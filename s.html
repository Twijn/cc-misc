<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>s - CC-Misc Utilities</title>
    <style>
        :root {
            --bg: #ffffff;
            --text: #1a1a1a;
            --link: #0066cc;
            --border: #e0e0e0;
            --code-bg: #f5f5f5;
        }
        @media (prefers-color-scheme: dark) {
            :root {
                --bg: #1a1a1a;
                --text: #e0e0e0;
                --link: #4d9fff;
                --border: #333333;
                --code-bg: #2a2a2a;
            }
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text);
            background: var(--bg);
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        .header {
            border-bottom: 2px solid var(--border);
            padding-bottom: 1rem;
            margin-bottom: 2rem;
        }
        h1 {
            margin-bottom: 0.5rem;
        }
        h2 {
            margin-top: 2rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border);
        }
        h3 {
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
        }
        code {
            background: var(--code-bg);
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'Monaco', 'Courier New', monospace;
        }
        pre {
            background: var(--code-bg);
            padding: 1rem;
            border-radius: 4px;
            overflow-x: auto;
            margin: 1rem 0;
        }
        .function {
            margin: 1.5rem 0;
            padding: 1rem;
            border: 1px solid var(--border);
            border-radius: 4px;
        }
        .params, .returns {
            margin-top: 0.5rem;
        }
        .params li, .returns li {
            padding: 0.25rem 0;
        }
        a {
            color: var(--link);
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .back-link {
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <div class="back-link"><a href="index.html">‚Üê Back to index</a></div>
    <div class="header">
        <h1>s</h1>
        <p>@class SettingsModule
A settings management module for ComputerCraft that provides interactive configuration
with automatic validation, peripheral detection, and persistent storage using CC settings.

Features:
Interactive peripheral selection with type filtering
Number input with range validation
String input with default values
Boolean selection with menu interface
Automatic settings persistence
Peripheral availability checking and recovery
Side-only peripheral filtering

@usage
local s = require("s")

local modem = s.peripheral("modem", "modem", true) -- Side-attached modems only
local port = s.number("port", 1, 65535, 8080) -- Port 1-65535, default 8080
local name = s.string("server_name", "MyServer") -- String with default
local enabled = s.boolean("enabled") -- Boolean selection</p>
    </div>
    <h2>Functions</h2>
    <div class='function'>
        <h3><code>selectMenu(title, subtitle, options, selected?)</code></h3>
        <p>Display an interactive menu for selecting from a list of options</p>
        <div class='params'>
            <strong>Parameters:</strong>
            <ul>
                <li><code>title</code> (string): The main title to display</li>
                <li><code>subtitle</code> (string): The subtitle/description to display</li>
                <li><code>options</code> (string[]): Array of selectable options</li>
                <li><code>selected?</code> (number): Currently selected option index (defaults to 1)</li>
            </ul>
        </div>
        <div class='returns'><strong>Returns:</strong> string # The selected option string</div>
    </div>
    <div class='function'>
        <h3><code>requestPeripheral(name, type, sideOnly?)</code></h3>
        <p>Interactively request user to select a peripheral of a specific type</p>
        <div class='params'>
            <strong>Parameters:</strong>
            <ul>
                <li><code>name</code> (string): The setting name to store the selection</li>
                <li><code>type</code> (string): The peripheral type to filter for</li>
                <li><code>sideOnly?</code> (boolean): If true, only show peripherals attached to computer sides</li>
            </ul>
        </div>
        <div class='returns'><strong>Returns:</strong> string # The selected peripheral name</div>
    </div>
    <div class='function'>
        <h3><code>module.peripheral(name, type, sideOnly?)</code></h3>
        <p>Get or configure a peripheral setting with automatic validation and recovery</p>
        <div class='params'>
            <strong>Parameters:</strong>
            <ul>
                <li><code>name</code> (string): The setting name to store/retrieve</li>
                <li><code>type</code> (string): The required peripheral type (e.g., "modem", "monitor")</li>
                <li><code>sideOnly?</code> (boolean): If true, only allow peripherals attached to computer sides</li>
            </ul>
        </div>
        <div class='returns'><strong>Returns:</strong> table # The wrapped peripheral object</div>
    </div>
    <div class='function'>
        <h3><code>module.number(name, from?, to?, default?)</code></h3>
        <p>Get or configure a number setting with range validation</p>
        <div class='params'>
            <strong>Parameters:</strong>
            <ul>
                <li><code>name</code> (string): The setting name to store/retrieve</li>
                <li><code>from?</code> (number): Minimum allowed value (nil for no minimum)</li>
                <li><code>to?</code> (number): Maximum allowed value (nil for no maximum)</li>
                <li><code>default?</code> (number): Default value if user provides empty input</li>
            </ul>
        </div>
        <div class='returns'><strong>Returns:</strong> number # The configured number value</div>
    </div>
    <div class='function'>
        <h3><code>module.string(name, default?)</code></h3>
        <p>Get or configure a string setting with optional default value</p>
        <div class='params'>
            <strong>Parameters:</strong>
            <ul>
                <li><code>name</code> (string): The setting name to store/retrieve</li>
                <li><code>default?</code> (string): Default value if user provides empty input</li>
            </ul>
        </div>
        <div class='returns'><strong>Returns:</strong> string # The configured string value</div>
    </div>
    <div class='function'>
        <h3><code>module.boolean(name)</code></h3>
        <p>Get or configure a boolean setting using an interactive menu</p>
        <div class='params'>
            <strong>Parameters:</strong>
            <ul>
                <li><code>name</code> (string): The setting name to store/retrieve</li>
            </ul>
        </div>
        <div class='returns'><strong>Returns:</strong> boolean # The configured boolean value</div>
    </div>
</body>
</html>
